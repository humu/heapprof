* Replace top-level API completely and change tests
* Update docs
